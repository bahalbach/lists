{"version":3,"sources":["App.tsx","serviceWorker.ts","index.tsx"],"names":["EditModes","startingId","startingText","startingDesc","startingNodes","startingChildren","defaultId","nanoid","oldNodes","localStorage","getItem","JSON","parse","console","log","ListItem","props","useState","None","editMode","setEditMode","text","title","setTitle","desc","description","setDescription","className","Title","type","value","autoFocus","onBlur","global","saveChangedTitle","nodeId","onChange","e","currentTarget","onFocus","select","onClick","removeThis","Description","saveChangedDescription","children","map","relation","node","nodes","find","id","childId","filter","newRelation","parentId","key","addChild","SelectList","App","historyIndex","setHistoryIndex","nodeHistory","setNodeHistory","childrenHistory","setChildrenHistory","useEffect","setItem","stringify","newNodes","slice","nodeIndex","findIndex","concat","currentChildren","newChildren","idsRemoved","idsToRemove","includes","length","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a7adefe6.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { nanoid } from 'nanoid'\nimport './App.css';\n\ninterface Node { id: string; text: string; desc: string }\ninterface ChildRelation { parentId: string; childId: string }\nenum EditModes {\n  None,\n  Title,\n  Description\n}\n\nconst defaultId = nanoid();\nconst defaultText = \"Title\";\nconst defaultDesc = \"\"\nconst defaultList: Node[] = [];\nconst defaultChildren: ChildRelation[] = [];\n\nconst oldNodes = localStorage.getItem(\"nodes\");\n  let startingId: string, startingText: string, startingDesc: string, startingNodes: Node[], startingChildren: ChildRelation[];\n  if (oldNodes) {\n    [startingId, startingText, startingDesc, startingNodes, startingChildren]  = JSON.parse(oldNodes);\n    console.log(\"Read from local:\", oldNodes);\n  } else {\n    startingId = defaultId;\n    startingText = defaultText;\n    startingDesc = defaultDesc;\n    startingNodes = defaultList;\n    startingChildren = defaultChildren;\n  }\n\nfunction ListItem(props: { nodeId: string; text: string, desc: string, children: ChildRelation[], global: { nodes: Node[], children: ChildRelation[], addChild: any, removeThis: any, saveChangedTitle: any, saveChangedDescription: any } }) {\n  /*\n    Displays text for this item, after the text there is a button to go into edit mode\n    When clicked in normal mode expand child elements\n  */\n\n  const [editMode, setEditMode] = useState(EditModes.None);\n  const [title, setTitle] = useState(props.text);\n  const [description, setDescription] = useState(props.desc);\n\n  console.log(\"Render: \", props.text);\n  return (\n    <details className=\"ListItem\">\n\n      <summary className=\"ListTitle\">\n        {editMode === EditModes.Title ?\n          <input\n            type=\"text\"\n            value={title}\n            autoFocus={true}\n            onBlur={() => {\n              setEditMode(EditModes.None)\n              props.global.saveChangedTitle(props.nodeId, title);\n            }}\n            onChange={function (e) { setTitle(e.currentTarget.value) }}\n            onFocus={function (e) { e.currentTarget.select() }}\n          /> :\n          <span>\n            {props.text}\n            <button className=\"EditButton EditTitleButton\" onClick={() => { setTitle(props.text); setEditMode(EditModes.Title); }}>Edit</button>\n            <button className=\"EditButton RemoveTitleButton\" onClick={props.global.removeThis(props.nodeId)}>Remove</button>\n          </span>\n        }\n      </summary>\n\n      <div className=\"ListChildren\">\n\n        <div className=\"ListDescription\">\n          {editMode === EditModes.Description ?\n            <textarea\n              value={description}\n              autoFocus={true}\n              onBlur={() => {\n                setEditMode(EditModes.None)\n                props.global.saveChangedDescription(props.nodeId, description);\n              }}\n              onChange={function (e) { setDescription(e.currentTarget.value) }}\n            /> :\n            <div>\n              {props.desc}\n              <br />\n              <button className=\"EditButton EditDescriptionButton\" onClick={() => { setDescription(props.desc); setEditMode(EditModes.Description); }}>Edit</button>\n            </div>\n          }\n        </div>\n\n        {props.children.map(relation => {\n          const node = props.global.nodes.find(node => node.id === relation.childId)\n          const text = node!.text;\n          const desc = node!.desc;\n          const children = props.global.children.filter(newRelation => newRelation.parentId === relation.childId);\n          return <ListItem key={relation.childId} nodeId={relation.childId} text={text} desc={desc} children={children} global={props.global} />\n        })}\n\n        <div>\n          <button onClick={props.global.addChild(props.nodeId)} className=\"AddChildButton\">\n            +\n          </button>\n        </div>\n      </div>\n\n    </details>\n  );\n}\n\nfunction SelectList() {\n  return (\n    <select>\n\n    </select>\n  );\n}\n\nfunction App() {\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const [nodeHistory, setNodeHistory] = useState([startingNodes]);\n  const [childrenHistory, setChildrenHistory] = useState([startingChildren]);\n\n  const [editMode, setEditMode] = useState(EditModes.None);\n  const [title, setTitle] = useState(startingText);\n  const [description, setDescription] = useState(startingDesc);\n\n  const nodes = nodeHistory[historyIndex];\n  const children = childrenHistory[historyIndex];\n  console.log(\"Nodes: \", nodes);\n  console.log(\"Children: \", children);\n\n  useEffect(() => {\n    localStorage.setItem(\"nodes\", JSON.stringify([startingId, title, description, nodes, children]));\n    console.log(\"Wrote to local\");\n  })\n\n  const saveChangedTitle = (nodeId: string, title: string) => {\n    let newNodes = nodes.slice();\n    const nodeIndex = nodes.findIndex(node => nodeId === node.id);\n    const node = nodes[nodeIndex];\n    if (node.text !== title) {\n      newNodes[nodeIndex] = { id: node.id, text: title, desc: node.desc };\n      setNodeHistory(nodeHistory.slice(0, historyIndex + 1).concat([newNodes]));\n      setChildrenHistory(childrenHistory.slice(0, historyIndex + 1).concat([children]));\n      setHistoryIndex(historyIndex + 1);\n      console.log(\"New title: \", title);\n    }\n  }\n\n  const saveChangedDescription = (nodeId: string, description: string) => {\n    let newNodes = nodes.slice();\n    const nodeIndex = nodes.findIndex(node => nodeId === node.id);\n    const node = nodes[nodeIndex];\n    if (node.desc !== description) {\n      newNodes[nodeIndex] = { id: node.id, text: node.text, desc: description };\n      setNodeHistory(nodeHistory.slice(0, historyIndex + 1).concat([newNodes]));\n      setChildrenHistory(childrenHistory.slice(0, historyIndex + 1).concat([children]));\n      setHistoryIndex(historyIndex + 1);\n    }\n  }\n\n  const addChild = (parentId: string) => () => {\n    const childId = nanoid();\n    setNodeHistory(nodeHistory.slice(0, historyIndex + 1).concat([[...nodes, { id: childId, text: defaultText, desc: defaultDesc }]]));\n    setChildrenHistory(childrenHistory.slice(0, historyIndex + 1).concat([[...children, { parentId, childId }]]));\n    setHistoryIndex(historyIndex + 1);\n  }\n\n  const removeThis = (nodeId: string) => () => {\n    let currentChildren = [nodeId];\n    let newNodes = nodeHistory[historyIndex];\n    let newChildren = childrenHistory[historyIndex];\n\n    let idsRemoved = 0;\n\n    while (currentChildren.length) {\n      let idsToRemove = currentChildren;\n      newNodes = newNodes.filter(node => !idsToRemove.includes(node.id));\n      newChildren = newChildren.filter(relation => !idsToRemove.includes(relation.childId));\n      currentChildren = children.filter(relation => idsToRemove.includes(relation.parentId)).map(relation => relation.childId);\n      idsRemoved += idsToRemove.length;\n    }\n    console.log(\"Removed ids: \", idsRemoved);\n\n    setNodeHistory(nodeHistory.slice(0, historyIndex + 1).concat([newNodes]));\n    setChildrenHistory(childrenHistory.slice(0, historyIndex + 1).concat([newChildren]));\n    setHistoryIndex(historyIndex + 1);\n  }\n\n  return (\n    <div className=\"App\">\n      <SelectList />\n      <summary className=\"ListTitle\">\n        {editMode === EditModes.Title ?\n          <input\n            type=\"text\"\n            value={title}\n            autoFocus={true}\n            onBlur={() => setEditMode(EditModes.None)}\n            onChange={function (e) { setTitle(e.currentTarget.value) }}\n            onFocus={function (e) { e.currentTarget.select() }}\n          /> :\n          <span>\n            {title}\n            <button className=\"EditButton EditTitleButton\" onClick={() => { setEditMode(EditModes.Title) }}>Edit</button>\n            {/* <button className=\"EditButton RemoveTitleButton\" onClick={props.removeThis(props.nodeId)}>Remove</button> */}\n          </span>\n        }\n      </summary>\n      <div className=\"ListDescription\">\n        {editMode === EditModes.Description ?\n          <textarea\n            value={description}\n            autoFocus={true}\n            onBlur={() => setEditMode(EditModes.None)}\n            onChange={function (e) { setDescription(e.currentTarget.value) }}\n          /> :\n          <div>\n            {description}\n            <br />\n            <button className=\"EditButton EditDescriptionButton\" onClick={() => { setEditMode(EditModes.Description) }}>Edit</button>\n          </div>\n        }\n      </div>\n\n      {children.filter(relation => relation.parentId === startingId).map(relation => {\n        const node = nodes.find(node => node.id === relation.childId)\n        const text = node!.text;\n        const desc = node!.desc;\n        const newChildren = children.filter(newRelation => newRelation.parentId === relation.childId);\n        return <ListItem key={relation.childId} nodeId={relation.childId} text={text} desc={desc} children={newChildren} global={{ nodes, children, addChild, removeThis, saveChangedTitle, saveChangedDescription }} />\n      })}\n\n      <div>\n        <button onClick={addChild(startingId)} className=\"AddChildButton\">\n          +\n          </button>\n      </div>\n      <button\n        className=\"ControlButton UndoButton\"\n        onClick={() => {\n          console.log(\"historyIndex: \", historyIndex);\n          console.log(\"nodeHistory.length: \", nodeHistory.length);\n          if (historyIndex > 0) setHistoryIndex(historyIndex - 1)\n        }}> Undo\n      </button>\n      <button\n        className=\"ControlButton RedoButton\"\n        onClick={() => {\n          console.log(\"historyIndex: \", historyIndex);\n          console.log(\"nodeHistory.length: \", nodeHistory.length);\n          if (historyIndex < nodeHistory.length - 1) setHistoryIndex(historyIndex + 1)\n        }}> Redo\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}