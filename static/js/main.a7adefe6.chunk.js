(this.webpackJsonplists=this.webpackJsonplists||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c,o=n(0),a=n.n(o),l=n(7),i=n.n(l),r=(n(13),n(4)),u=n(1),s=n(5);n(14);!function(e){e[e.None=0]="None",e[e.Title=1]="Title",e[e.Description=2]="Description"}(c||(c={}));var d,m,f,h,g,E=Object(s.a)(),b=localStorage.getItem("nodes");if(b){var v=JSON.parse(b),p=Object(u.a)(v,5);d=p[0],m=p[1],f=p[2],h=p[3],g=p[4],console.log("Read from local:",b)}else d=E,m="Title",f="",h=[],g=[];function I(e){var t=Object(o.useState)(c.None),n=Object(u.a)(t,2),l=n[0],i=n[1],r=Object(o.useState)(e.text),s=Object(u.a)(r,2),d=s[0],m=s[1],f=Object(o.useState)(e.desc),h=Object(u.a)(f,2),g=h[0],E=h[1];return console.log("Render: ",e.text),a.a.createElement("details",{className:"ListItem"},a.a.createElement("summary",{className:"ListTitle"},l===c.Title?a.a.createElement("input",{type:"text",value:d,autoFocus:!0,onBlur:function(){i(c.None),e.global.saveChangedTitle(e.nodeId,d)},onChange:function(e){m(e.currentTarget.value)},onFocus:function(e){e.currentTarget.select()}}):a.a.createElement("span",null,e.text,a.a.createElement("button",{className:"EditButton EditTitleButton",onClick:function(){m(e.text),i(c.Title)}},"Edit"),a.a.createElement("button",{className:"EditButton RemoveTitleButton",onClick:e.global.removeThis(e.nodeId)},"Remove"))),a.a.createElement("div",{className:"ListChildren"},a.a.createElement("div",{className:"ListDescription"},l===c.Description?a.a.createElement("textarea",{value:g,autoFocus:!0,onBlur:function(){i(c.None),e.global.saveChangedDescription(e.nodeId,g)},onChange:function(e){E(e.currentTarget.value)}}):a.a.createElement("div",null,e.desc,a.a.createElement("br",null),a.a.createElement("button",{className:"EditButton EditDescriptionButton",onClick:function(){E(e.desc),i(c.Description)}},"Edit"))),e.children.map((function(t){var n=e.global.nodes.find((function(e){return e.id===t.childId})),c=n.text,o=n.desc,l=e.global.children.filter((function(e){return e.parentId===t.childId}));return a.a.createElement(I,{key:t.childId,nodeId:t.childId,text:c,desc:o,children:l,global:e.global})})),a.a.createElement("div",null,a.a.createElement("button",{onClick:e.global.addChild(e.nodeId),className:"AddChildButton"},"+"))))}function N(){return a.a.createElement("select",null)}var O=function(){var e=Object(o.useState)(0),t=Object(u.a)(e,2),n=t[0],l=t[1],i=Object(o.useState)([h]),E=Object(u.a)(i,2),b=E[0],v=E[1],p=Object(o.useState)([g]),O=Object(u.a)(p,2),C=O[0],j=O[1],T=Object(o.useState)(c.None),x=Object(u.a)(T,2),B=x[0],k=x[1],S=Object(o.useState)(m),y=Object(u.a)(S,2),D=y[0],w=y[1],R=Object(o.useState)(f),F=Object(u.a)(R,2),L=F[0],J=F[1],A=b[n],W=C[n];console.log("Nodes: ",A),console.log("Children: ",W),Object(o.useEffect)((function(){localStorage.setItem("nodes",JSON.stringify([d,D,L,A,W])),console.log("Wrote to local")}));var H=function(e,t){var c=A.slice(),o=A.findIndex((function(t){return e===t.id})),a=A[o];a.text!==t&&(c[o]={id:a.id,text:t,desc:a.desc},v(b.slice(0,n+1).concat([c])),j(C.slice(0,n+1).concat([W])),l(n+1),console.log("New title: ",t))},U=function(e,t){var c=A.slice(),o=A.findIndex((function(t){return e===t.id})),a=A[o];a.desc!==t&&(c[o]={id:a.id,text:a.text,desc:t},v(b.slice(0,n+1).concat([c])),j(C.slice(0,n+1).concat([W])),l(n+1))},M=function(e){return function(){var t=Object(s.a)();v(b.slice(0,n+1).concat([[].concat(Object(r.a)(A),[{id:t,text:"Title",desc:""}])])),j(C.slice(0,n+1).concat([[].concat(Object(r.a)(W),[{parentId:e,childId:t}])])),l(n+1)}},$=function(e){return function(){for(var t=[e],c=b[n],o=C[n],a=0,i=function(){var e=t;c=c.filter((function(t){return!e.includes(t.id)})),o=o.filter((function(t){return!e.includes(t.childId)})),t=W.filter((function(t){return e.includes(t.parentId)})).map((function(e){return e.childId})),a+=e.length};t.length;)i();console.log("Removed ids: ",a),v(b.slice(0,n+1).concat([c])),j(C.slice(0,n+1).concat([o])),l(n+1)}};return a.a.createElement("div",{className:"App"},a.a.createElement(N,null),a.a.createElement("summary",{className:"ListTitle"},B===c.Title?a.a.createElement("input",{type:"text",value:D,autoFocus:!0,onBlur:function(){return k(c.None)},onChange:function(e){w(e.currentTarget.value)},onFocus:function(e){e.currentTarget.select()}}):a.a.createElement("span",null,D,a.a.createElement("button",{className:"EditButton EditTitleButton",onClick:function(){k(c.Title)}},"Edit"))),a.a.createElement("div",{className:"ListDescription"},B===c.Description?a.a.createElement("textarea",{value:L,autoFocus:!0,onBlur:function(){return k(c.None)},onChange:function(e){J(e.currentTarget.value)}}):a.a.createElement("div",null,L,a.a.createElement("br",null),a.a.createElement("button",{className:"EditButton EditDescriptionButton",onClick:function(){k(c.Description)}},"Edit"))),W.filter((function(e){return e.parentId===d})).map((function(e){var t=A.find((function(t){return t.id===e.childId})),n=t.text,c=t.desc,o=W.filter((function(t){return t.parentId===e.childId}));return a.a.createElement(I,{key:e.childId,nodeId:e.childId,text:n,desc:c,children:o,global:{nodes:A,children:W,addChild:M,removeThis:$,saveChangedTitle:H,saveChangedDescription:U}})})),a.a.createElement("div",null,a.a.createElement("button",{onClick:M(d),className:"AddChildButton"},"+")),a.a.createElement("button",{className:"ControlButton UndoButton",onClick:function(){console.log("historyIndex: ",n),console.log("nodeHistory.length: ",b.length),n>0&&l(n-1)}}," Undo"),a.a.createElement("button",{className:"ControlButton RedoButton",onClick:function(){console.log("historyIndex: ",n),console.log("nodeHistory.length: ",b.length),n<b.length-1&&l(n+1)}}," Redo"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.a7adefe6.chunk.js.map